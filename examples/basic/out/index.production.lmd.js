(function a(b,c,d,e,f){var g={},h=b.eval,i=function(){},j=b.document,k,l=function(a,c){var f={exports:{}};return g[a]=1,d[a]=f.exports,c?typeof c=="function"&&(c=c(e[a]?k:m,f.exports,f)||f.exports):c=b[a],d[a]=c},m=function(a){var b=d[a];return g[a]&&b?b:(typeof b=="string"&&b.indexOf("(function(")===0&&(b="(function(){return"+b+"})()",b=h(b)),l(a,b))},n={exports:{}};for(var o in d)g[o]=0;m.async=function(a,c){c=c||i;var e=d[a],f=b.XMLHttpRequest||b.ActiveXObject;if(e)return c(g[a]?e:m(a)),m;var j=new f("Microsoft.XMLHTTP");return j.onreadystatechange=function(){j.readyState==4&&(j.status<201?(e=j.responseText,/script$|json$/.test(j.getResponseHeader("content-type"))&&(e="(function(){return"+e+"})()",e=h("("+e+")")),c(l(a,e))):c())},j.open("get",a),j.send(),m},m.js=function(a,c){c=c||i;var e=d[a],f="readyState",h=1,n;if(e)return c(g[a]?e:m(a)),m;if(!j)return c(e),m;var o=j.createElement("script");return b.setTimeout(o.onreadystatechange=o.onload=function(d){d=d||b.event,h&&(!d||!o[f]||o[f]=="loaded"||o[f]=="complete")&&(h=0,c(d?l(a,o):n.removeChild(o)&&k))},3e3,0),o.src=a,n=j.getElementsByTagName("head")[0],n.insertBefore(o,n.firstChild),m},m.css=function(a,c){c=c||i;var e=d[a],f=1,h;if(e||!j)return c(g[a]?e:m(a)),m;var n=j.createElement("link"),o=+(new b.Date),p=function(b){f&&(f=0,n.removeAttribute("id"),c(b?l(a,n):h.removeChild(n)&&k))};return n.href=a,n.rel="stylesheet",n.id=o,b.setTimeout(p,3e3,0),h=j.getElementsByTagName("head")[0],h.insertBefore(n,h.firstChild),function q(){if(f)try{var a=j.styleSheets;for(var c=0,d=a.length;c<d;c++)if((a[c].ownerNode||a[c].owningElement).id==o&&(a[c].cssRules||a[c].rules).length)return p(1);throw 1}catch(e){b.setTimeout(q,90)}}(),m},b.localStorage&&f&&function(){try{b.localStorage.lmd=b.JSON.stringify({version:f,modules:d,main:"("+c+")",lmd:"("+a+")",sandboxed:e})}catch(g){}}(),c(m,n.exports,n)})(this,function(b){var c=b("i18n"),d=c.hello+", lmd",e,f,g,h,i,j,k;typeof window!="undefined"?(f=b("depA"),k=b("depB"),g=b("Worker"),i=b("config"),j=b("template"),e=b("$"),e(function(){b.async("./modules/templates/async_template.html",function(a){e("#log").html(typeof a!="undefined"?a.replace("${content}",j.replace("${content}",k(d))):j.replace("${content}",k(d)))}),b.js("./vendors/jquery.someplugin.js",function(a){typeof a!="undefined"?f(e.somePlugin()):f("fail to load: ./vendors/jquery.someplugin.js")}),b.css("./css/b-template.css",function(a){typeof a!="undefined"?f("CSS - OK!"):f("fail to load: ./css/b-template.css")})}),g&&(h=new g(i.worker),h.addEventListener("message",function(a){f("Received some data from worker: "+a.data)},!1))):f=b("workerDepA"),f(d)},{depA:'(function(a){var b=a("depB"),c=a("console");return function(a){c.log(b(a))}})',template:'<i class="b-template">${content}</i>',depB:'(function(a,b,c){c.exports=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}})',workerDepA:'(function(a){var b=a("depB"),c=a("postMessage");return function(a){c(b(a))}})',i18n:{hello:"Привет"},config:{worker:"./out/index.production.lmd.js"}},{depB:!0},"1.6.3-1")